<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>W3A SOC | W3A SOC 一个安全运维工作台</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="W3A SOC" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="W3A SOC 是一个针对于微服务（分布式场景）下的架构治理工具。它可以在开发过程中，帮助架构师、开发人员分析系统间的远程服务依赖情况、数据库依赖、API 依赖等。并根据一些架构治理模型，对现有系统提出改进建议。" /> <meta property="og:description" content="W3A SOC 是一个针对于微服务（分布式场景）下的架构治理工具。它可以在开发过程中，帮助架构师、开发人员分析系统间的远程服务依赖情况、数据库依赖、API 依赖等。并根据一些架构治理模型，对现有系统提出改进建议。" /> <link rel="canonical" href="http://localhost:4000/" /> <meta property="og:url" content="http://localhost:4000/" /> <meta property="og:site_name" content="W3A SOC" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="W3A SOC" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebSite","description":"W3A SOC 是一个针对于微服务（分布式场景）下的架构治理工具。它可以在开发过程中，帮助架构师、开发人员分析系统间的远程服务依赖情况、数据库依赖、API 依赖等。并根据一些架构治理模型，对现有系统提出改进建议。","headline":"W3A SOC","name":"W3A SOC","url":"http://localhost:4000/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> W3A SOC </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="http://localhost:4000/" class="nav-list-link active">W3A SOC</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86" class="nav-list-link">部署管理</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/soc/contanior.html" class="nav-list-link">容器部署</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86/%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/%E5%B7%A5%E5%85%B7%E7%AB%AF" class="nav-list-link">工具端</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86/%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/%E6%9C%8D%E5%8A%A1%E7%AB%AF" class="nav-list-link">服务端</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/soc/cloudout.html" class="nav-list-link">非容器部署</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86/%E9%9D%9E%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/%E9%83%A8%E7%BD%B2W3A%E7%95%8C%E9%9D%A2%E7%AB%AF" class="nav-list-link">部署W3A界面端</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86/%E9%9D%9E%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/%E9%83%A8%E7%BD%B2W3A%E6%9C%8D%E5%8A%A1%E7%AB%AF" class="nav-list-link">部署W3A服务端</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/%E9%83%A8%E7%BD%B2%E7%AE%A1%E7%90%86/%E9%9D%9E%E5%AE%B9%E5%99%A8%E9%83%A8%E7%BD%B2/%E9%83%A8%E7%BD%B2W3A%E5%B7%A5%E5%85%B7%E7%AB%AF" class="nav-list-link">部署W3A工具端</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/%E6%BC%8F%E6%B4%9E%E9%A3%8E%E9%99%A9%E7%AE%A1%E7%90%86" class="nav-list-link">漏洞风险管理</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/%E6%97%A5%E5%BF%97%E5%AE%A1%E8%AE%A1" class="nav-list-link">日志审计</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/%E6%97%A5%E5%BF%97%E5%AE%A1%E8%AE%A1/%E9%85%8D%E7%BD%AENginx%E9%87%87%E9%9B%86%E5%99%A8" class="nav-list-link">配置Nginx采集器</a></li><li class="nav-list-item "><a href="http://localhost:4000/%E6%97%A5%E5%BF%97%E5%AE%A1%E8%AE%A1/%E9%85%8D%E7%BD%AEKafka%E9%87%87%E9%9B%86%E5%99%A8" class="nav-list-link">配置Kafka采集器</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/W3A" class="nav-list-link">功能地图</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search W3A SOC" aria-label="Search W3A SOC" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/smarttang/w3a_SOC" class="site-button" target="_blank" rel="noopener noreferrer" > 开始拉取项目 </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <p><img style="width:660px" title="Run example" alt="Run example" src="/WechatIMG204.png" /></p> <p align="center"> 基于日志安全分析做切入，做最好用的「安全运维工作台」。<br /> </p> <p><img src="https://img.shields.io/badge/golang-1.17.2%20-green" alt="" /> <img src="https://img.shields.io/badge/openjdk-15.0.5-green" alt="" /> <img src="https://img.shields.io/badge/W3A%20SOC-v2.0-green" alt="" /> <img src="https://img.shields.io/badge/%E7%AD%89%E7%BA%A7%E4%BF%9D%E6%8A%A4%E4%B8%89%E7%BA%A7-%E6%97%A5%E5%BF%97%E5%AE%A1%E8%AE%A1-green" alt="" /> <img src="https://img.shields.io/badge/%E5%91%8A%E8%AD%A6%E7%9B%91%E6%8E%A7-%E9%92%89%E9%92%89-green" alt="" /> <img src="https://img.shields.io/badge/%E5%91%8A%E8%AD%A6%E7%9B%91%E6%8E%A7-%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1-green" alt="" /> <img src="https://img.shields.io/badge/Kubernetes-1.20.6-green" alt="" /> <img src="https://img.shields.io/badge/%20docker--compose-1.29.2-green" alt="" /></p> <p><strong>主要特性</strong></p> <ul> <li>日志分析: 基于kafka+GoLang的方式，对采集的Web和系统应用日志进行攻击行为的分析。</li> <li>业务连续性监控: 基于网络的业务连续性监控服务，确定业务是否有中断。</li> <li>告警整合: 实现钉钉、企业微信的联动告警机制。</li> <li>部署支持：docker-compose、Kubernetes。</li> <li>整体架构：基于 Filebeat(采集/清洗) + Kafka(汇聚) + ElasticSearch(检索)</li> <li>技术实现：后端基于Java，前端基于Vue，数据库基于MYSQL。</li> </ul> <p><strong>目标</strong></p> <ul> <li>满足等保二级、三级的需求，直接部署就能用那种。</li> <li>让客户少花钱，然后也能用，不串联到业务中，对业务0影响。</li> <li>部署简单，一键部署，或者直接随着元豚科技生态自动部署。</li> </ul> <p><strong>用户画像</strong></p> <ul> <li>安全、运维负责人，全方位了解当前安全现状，做摸底排查</li> <li>安全开发、运维开发，集成全方面的安全、运维自动化平台，提效</li> <li>安全运营，了解、运营整体安全策略、规则、插件</li> <li>CTO，清晰的知道安全态势、运维态势</li> </ul> <h3 id="关键输出"> <a href="#关键输出" class="anchor-heading" aria-labelledby="关键输出"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 关键输出 </h3> <p><strong>Web日志分析</strong></p> <ul> <li>通过Logstash/filebeat采集日志到ES上。</li> <li>Golang通过开放平台，获取规则信息针对Kafka的日志进行实时分析。</li> <li>将存在问题的部分直接存到平台里，平台只存落地的攻击日志、记录分析日志数。</li> <li>攻击源IP地址分析，结合IP来源进行分析。</li> <li>输出可以用于封禁的API接口，查可封禁的IP。</li> </ul> <p><strong>存活监控/篡改监控告警</strong></p> <ul> <li>针对提交的IP进行检测，看是否存活，可以分布式，持续的监测。</li> <li>针对目标进行篡改监控。</li> </ul> <p><strong>问题告警</strong></p> <ul> <li>针对出现的问题，统一告警输出。</li> <li>支持钉钉、企业微信。</li> </ul> <h2 id="docker-compose快速体验"> <a href="#docker-compose快速体验" class="anchor-heading" aria-labelledby="docker-compose快速体验"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker Compose（快速体验） </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/smarttang/w3a_SOC
cd w3a_SOC/deploy/docker-compose/test-environment/
docker-compose up -d
</code></pre></div></div> <h2 id="漏洞管理图片上传"> <a href="#漏洞管理图片上传" class="anchor-heading" aria-labelledby="漏洞管理图片上传"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 漏洞管理图片上传 </h2> <p>如果需要用图片上传功能，在腾讯云开一个COS，然后再docker-compose上改改对应的配置即可。</p> <h2 id="服务启动后的效果"> <a href="#服务启动后的效果" class="anchor-heading" aria-labelledby="服务启动后的效果"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 服务启动后的效果 </h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>➜  test-environment git:(master) ✗ docker-compose ps -a
              Name                            Command               State                          Ports                        
--------------------------------------------------------------------------------------------------------------------------------
test-environment_elasticsearch_1   /bin/tini -- /usr/local/bi ...   Up      0.0.0.0:9200-&gt;9200/tcp, 0.0.0.0:9300-&gt;9300/tcp      
test-environment_filebeat1_1       filebeat -e -strict.perms= ...   Up                                                          
test-environment_filebeat2_1       filebeat -e -strict.perms= ...   Up                                                          
test-environment_kafka_1           /opt/bitnami/scripts/kafka ...   Up      0.0.0.0:29092-&gt;29092/tcp, 0.0.0.0:9092-&gt;9092/tcp    
test-environment_kibana_1          /bin/tini -- /usr/local/bi ...   Up      0.0.0.0:5601-&gt;5601/tcp                              
test-environment_nginx_1           /usr/local/openresty/bin/o ...   Up      0.0.0.0:80-&gt;8080/tcp                                
test-environment_w3aAgent_1        /usr/local/sbin/dolphins         Up                                                          
test-environment_w3aAlterAgent_1   /usr/local/sbin/dolphins         Up                                                          
test-environment_w3aDashboard_1    sh -c java $JAVA_OPTS -Dja ...   Up      0.0.0.0:8081-&gt;8080/tcp                              
test-environment_w3aFrotend_1      /docker-entrypoint.sh ngin ...   Up      0.0.0.0:81-&gt;80/tcp                                  
test-environment_w3aMysql_1        docker-entrypoint.sh mysqld      Up      0.0.0.0:3306-&gt;3306/tcp, 33060/tcp                   
test-environment_w3aRedis_1        docker-entrypoint.sh redis ...   Up      0.0.0.0:6379-&gt;6379/tcp                              
test-environment_w3aopenapi_1      sh -c java $JAVA_OPTS -Dja ...   Up      0.0.0.0:8082-&gt;8080/tcp                              
test-environment_zookeeper_1       /opt/bitnami/scripts/zooke ...   Up      0.0.0.0:2181-&gt;2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp
</code></pre></div></div> <h2 id="访问web部分"> <a href="#访问web部分" class="anchor-heading" aria-labelledby="访问web部分"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 访问Web部分 </h2> <p>Docker Compose 启动后，访问：<a href="http://localhost:81/">http://localhost:81/</a>，就可以看到W3A SOC平台的服务了，登录账号/密码：admin/w3admin</p> <ul> <li>记得先「创建应用」，基于docker-compose部署的话，ES地址填「elasticsearch」,端口9200，站点地址写：127.0.0.1，站点日志索引: web*，进去就能看到样例DEMO了。</li> <li>攻击测试针对本地80进行攻击就行，那个就是靶场，扫描的时候自动激活分析。</li> <li>所有的上报会在W3A SOC平台直观展现。</li> <li>默认自带了少量规则，可以激活攻击用。</li> </ul> <p>攻击后就能看到如下图：</p> <p><img src="/assets/screenshots/dashboard.png" alt="Backend Overview" /></p> <h3 id="备注"> <a href="#备注" class="anchor-heading" aria-labelledby="备注"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 备注 </h3> <ul> <li>一直以来都有人问我到底还是否继续更新迭代，不断有人加我，还给我鼓励，时隔六年，沉淀积累之后，准备再做一套新的，可以持续更新维护的版本。</li> <li>诸位发现问题请直接提交issue，如果有定制化需求，麻烦支持下收费版本，在内部推动下元豚科技的产品啥的，感激不尽。</li> <li>项目元豚科技接管之后，起码不会荒废，只要公司一直在，项目就会更新。</li> <li>旧的版本在release，那个版本是开源的，代码开放，有需要自行提取。</li> </ul> <h3 id="客户体验计划"> <a href="#客户体验计划" class="anchor-heading" aria-labelledby="客户体验计划"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 客户体验计划 </h3> <ul> <li>欢迎种子用户，早期的种子用户后期可以优先体验商业版功能，欢迎扫码加我微信，我后面拉群。</li> <li>欢迎提意见和场景，我们想办法满足，如果有好的日志样本也可以提供给我们。</li> </ul> <h3 id="加我"> <a href="#加我" class="anchor-heading" aria-labelledby="加我"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 加我 </h3> <p><img style="width:200px" title="Run example" alt="Run example" src="/wechat.png" /></p> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 北京元豚科技有限公司 - www.aidolphins.com 2020~2022</p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/smarttang/w3a_soc_doc/tree/master/docs/quick-start.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
